---
layout: post
description: Using HTML fragments and JavaScript data to build a table
author: Amay Advani
permalink: /frontend/jsTable
categories: [markdown, week5]
title: Javascript and HTML
---

<html>
<body>
 
 
<script>

function logItType(output) {
   console.log(typeof output, ";", output);
}

function tvshow(name, rating, genre) {
   this.name = name;
   this.rating = rating;
   this.genre = genre;
   this.role = "";
}

// define a setter for role in Person data
Show.prototype.setRole = function(role) {
   this.role = role;
}

// define a JSON conversion "method" associated with Person
Show.prototype.toJSON = function() {
   const obj = {name: this.name, rating: this.rating, genre: this.genre, role: this.role};
   const json = JSON.stringify(obj);
   return json;
}

// make a new Person and assign to variable teacher
var netflix = new Show("Stranger Things", "9.7/10", "Mystery, Action");  
logItType(teacher);  
logItType(teacher.toJSON());  

// output of Object and JSON/string associated with Teacher
teacher.setRole("netflix");   // set the role
logItType(netflix); 
logItType(netflix.toJSON());

var soaptwoday = [ 
    new Show("Rick and Morty", "10/10", "Sci-Fi"), 
    new Show("Lucifer", "9.3/10", "Mystery"), 
    new Show("Avatar", "9.8/10", "Fiction, Action")
];

function theater(netflix, soaptoday){ 
   teacher.setRole("Netflix");
   this.netflix = netflix;
   this.theater = [netflix];
   this.soaptwoday= soaptwoday;
   this.soaptwoday.forEach(soaptwoday => { soaptwoday.setRole("Soap2day"); this.theater.push(soaptwoday); });
   this.json = [];
   this.theater.forEach(show => this.json.push(show.toJSON()));
}

movies = new Theater(netflix, soaptwoday);

logItType(movies.theater);  
logItType(movies.theater[0].name);  
logItType(movies.json[0]); 
logItType(JSON.parse(movies.json[0]));

Theater.prototype._toHtml = function() {
 
  var style = (
    "display:inline-block;" +
    "border: 2px solid black;" +
    "box-shadow: 0.8em 0.4em 0.4em grey;"
  );

  var body = "";

  body += "<tr>";
  body += "<th><mark>" + "Name" + "</mark></th>";
  body += "<th><mark>" + "Rating" + "</mark></th>";
  body += "<th><mark>" + "Genre" + "</mark></th>";
  body += "<th><mark>" + "Role" + "</mark></th>";
  body += "</tr>";
 
  for (var row of movies.theater) {
    
    body += "<tr>";
   
    body += "<td>" + row.name + "</td>";
    body += "<td>" + row.rating+ "</td>";
    body += "<td>" + row.genre + "</td>";
    body += "<td>" + row.role + "</td>";

  
    body += "<tr>";
  }

   // Build and HTML fragment of div, table, table body
  return (
    "<div style='" + style + "'>" +
      "<table>" +
        body +
      "</table>" +
    "</div>"
  );

};

$$.html(movies._toHtml());

</script>
 
</body>
</html>